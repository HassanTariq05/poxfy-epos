import React, {useEffect, useState} from 'react';
import WelcomeBanner from '../../components/welcome-banner';
import InfoCardDashboard from '../../components/info-card-dashboard';
import {Svg, Path} from 'react-native-svg';
import {ScrollView, View, StyleSheet} from 'react-native';
import SalesCard from '../../components/sales-card-dashboard';
import StatusCard from '../../components/status-card-dashboard';
import SummaryCard from '../../components/summary-card-dashboard';
import {
  customerInsightsItems,
  inventoryStatusItems,
  monthlySalesItems,
  refundsItems,
  totalSalesItems,
  weeklySalesItems,
  yearlySalesItems,
} from './items';
import useAuthStore from '../../redux/feature/store';
import AsyncStorage from '@react-native-async-storage/async-storage';
import {
  getCustomerInsights,
  getInventoryInsights,
  getOutlets,
  getProducts,
  getSales,
} from '../../services/dashboard';
import {NativeModules} from 'react-native';
const {PrintSdk} = NativeModules;

export default function Dashboard() {
  const {setIsLoadingTrue, setIsLoadingFalse, headerUrl} = useAuthStore();

  const [salesData, setSalesData] = useState<any>({
    today: 0,
    yesterday: 0,
    currentWeek: 0,
    lastWeek: 0,
  });
  const [productData, setProductData] = useState<any>();
  const [outletData, setOutletData] = useState<any>([
    {
      outletName: '',
      totalRevenue: 0,
    },
  ]);
  const [customerData, setCustomerData] = useState<any>({
    customerRatio: {
      repeatCustomerRatio: 0,
    },
    new: 0,
    repeat: 0,
    growth: 0,
    total: 0,
    return: 0,
  });
  const [inventoryData, setInventoryData] = useState<any>({
    lowItems: 0,
  });

  const fetchData = async () => {
    try {
      setIsLoadingTrue();

      const outletId = '6804e727bae8a248492f2db8';

      const salesResponse = await getSales(outletId, headerUrl);
      setSalesData(salesResponse.data.data);

      const productResponse = await getProducts(outletId, headerUrl);
      setProductData(productResponse.data.data);

      const outletResponse = await getOutlets(outletId, headerUrl);
      setOutletData(outletResponse.data.data);

      const customerResponse = await getCustomerInsights(outletId, headerUrl);
      setCustomerData(customerResponse.data.data);

      const inventoryResponse = await getInventoryInsights(outletId, headerUrl);
      setInventoryData(inventoryResponse.data.data);

      setIsLoadingFalse();
    } catch (err) {
      console.error('Error fetching data:', err);
      setIsLoadingFalse();
    }
  };

  useEffect(() => {
    fetchData();
  }, []);

  return (
    <>
      <ScrollView contentContainerStyle={styles.scrollContainer}>
        <WelcomeBanner
          onRefresh={() => {
            // fetchData();

            PrintSdk.someSdkMethod('Hello from print world!')
              .then((result: any) => console.log(result))
              .catch((error: any) => console.error(error));
          }}
        />
        <View style={styles.cardContainer}>
          <InfoCardDashboard
            mainheading={'Today vs Yesterday'}
            todayLabel="Today"
            todayValue={salesData.today}
            yesterdayLabel="Yesterday"
            yesterdayValue={salesData.yesterday}
            imgSrc={require('../../assets/images/bg-lines.png')}
            svgIcon={
              <Svg width={32} height={32} viewBox="0 0 37 39" fill="none">
                <Path
                  d="M28.0972 38.737H8.26389C3.63611 38.737 0 35.1861 0 30.6668V12.9123C0 8.39301 3.63611 4.84212 8.26389 4.84212V1.61404C8.26389 0.645616 8.925 0 9.91667 0C10.9083 0 11.5694 0.645616 11.5694 1.61404V4.84212H26.4444V1.61404C26.4444 0.645616 27.1056 0 28.0972 0C29.0889 0 29.75 0.645616 29.75 1.61404V5.00353C33.5514 5.81055 36.3611 9.03863 36.3611 12.9123V30.6668C36.3611 35.1861 32.725 38.737 28.0972 38.737ZM3.30556 17.7544V30.6668C3.30556 33.4106 5.45417 35.5089 8.26389 35.5089H28.0972C30.9069 35.5089 33.0556 33.4106 33.0556 30.6668V17.7544H3.30556ZM3.30556 14.5264H33.0556V12.9123C33.0556 10.1685 30.9069 8.0702 28.0972 8.0702H8.26389C5.45417 8.0702 3.30556 10.1685 3.30556 12.9123V14.5264ZM8.26389 24.2106C7.27222 24.2106 6.61111 23.565 6.61111 22.5966C6.61111 21.6281 7.27222 20.9825 8.26389 20.9825C9.25556 20.9825 9.91667 21.6281 9.91667 22.5966C9.91667 23.565 9.25556 24.2106 8.26389 24.2106Z"
                  fill="white"
                />
              </Svg>
            }
            arrowSvg={
              <Svg width={32} height={32} viewBox="0 0 33 40" fill="none">
                <Path
                  d={'M16.5 38V2M16.5 38L2 23.6M16.5 38L31 23.6'}
                  stroke={
                    salesData.today > salesData.yesterday
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={3}
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </Svg>
            }
            svgIconClassName={'bg-ufoGreen'}
            svgIconBottom={
              <Svg
                width="100%"
                height={75}
                viewBox="0 0 390 95"
                fill="none"
                preserveAspectRatio="none">
                <Path
                  d="M94 55C80 35 20 45 -5 60V104H392V55C365 60 345 63 320 65C290 67 275 60 255 50C240 42 225 40 215 45C200 50 185 70 165 85C145 100 130 90 120 80C110 70 105 65 94 55Z"
                  fill={
                    salesData.today > salesData.yesterday
                      ? '#00e37d0f'
                      : '#fe5e5e0f'
                  }
                  stroke={
                    salesData.today > salesData.yesterday
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={2}
                />
              </Svg>
            }
          />
          <InfoCardDashboard
            mainheading={'This vs Last Week'}
            todayLabel="This Week"
            todayValue={salesData.currentWeek}
            yesterdayLabel="Last Week"
            yesterdayValue={salesData.lastWeek}
            imgSrc={require('../../assets/images/bg-lines.png')}
            svgIcon={
              <Svg width={32} height={32} viewBox="0 0 37 39" fill="none">
                <Path
                  d="M27.1384 9.21816C27.7126 9.21848 28.2672 9.01421 28.6982 8.64365C29.1292 8.27309 29.4069 7.76171 29.4793 7.20542C29.5517 6.64914 29.4138 6.08617 29.0914 5.62211C28.7691 5.15805 28.2844 4.82479 27.7284 4.68484V0.576135C27.7284 0.423334 27.6662 0.276792 27.5556 0.168746C27.4449 0.0606999 27.2949 0 27.1384 0C26.9819 0 26.8319 0.0606999 26.7212 0.168746C26.6106 0.276792 26.5484 0.423334 26.5484 0.576135V4.68484C25.9924 4.82479 25.5077 5.15805 25.1854 5.62211C24.863 6.08617 24.7251 6.64914 24.7975 7.20542C24.8699 7.76171 25.1476 8.27309 25.5786 8.64365C26.0096 9.01421 26.5642 9.21848 27.1384 9.21816ZM26.5484 5.92151V6.33748C26.5484 6.49028 26.6106 6.63683 26.7212 6.74487C26.8319 6.85292 26.9819 6.91362 27.1384 6.91362C27.2949 6.91362 27.4449 6.85292 27.5556 6.74487C27.6662 6.63683 27.7284 6.49028 27.7284 6.33748V5.92151C27.9533 6.04834 28.1291 6.24411 28.2285 6.47846C28.3279 6.7128 28.3453 6.97263 28.2781 7.21764C28.2109 7.46265 28.0627 7.67915 27.8567 7.83357C27.6506 7.98798 27.3981 8.07168 27.1384 8.07168C26.8786 8.07168 26.6262 7.98798 26.4201 7.83357C26.214 7.67915 26.0659 7.46265 25.9987 7.21764C25.9314 6.97263 25.9489 6.7128 26.0483 6.47846C26.1477 6.24411 26.3235 6.04834 26.5484 5.92151ZM11.7994 2.30454H25.3685V3.45681H11.7994V2.30454ZM10.0295 9.21816C10.6037 9.21848 11.1583 9.01421 11.5893 8.64365C12.0203 8.27309 12.298 7.76171 12.3704 7.20542C12.4428 6.64914 12.3049 6.08617 11.9825 5.62211C11.6602 5.15805 11.1755 4.82479 10.6195 4.68484V0.576135C10.6195 0.423334 10.5573 0.276792 10.4467 0.168746C10.336 0.0606999 10.186 0 10.0295 0C9.87302 0 9.72296 0.0606999 9.61232 0.168746C9.50168 0.276792 9.43953 0.423334 9.43953 0.576135V4.68484C8.88348 4.82479 8.39882 5.15805 8.07645 5.62211C7.75409 6.08617 7.61617 6.64914 7.68856 7.20542C7.76096 7.76171 8.03869 8.27309 8.46967 8.64365C8.90065 9.01421 9.45527 9.21848 10.0295 9.21816ZM9.43953 5.92151V6.33748C9.43953 6.49028 9.50168 6.63683 9.61232 6.74487C9.72296 6.85292 9.87302 6.91362 10.0295 6.91362C10.186 6.91362 10.336 6.85292 10.4467 6.74487C10.5573 6.63683 10.6195 6.49028 10.6195 6.33748V5.92151C10.8444 6.04834 11.0202 6.24411 11.1196 6.47846C11.219 6.7128 11.2364 6.97263 11.1692 7.21764C11.102 7.46265 10.9538 7.67915 10.7478 7.83357C10.5417 7.98798 10.2892 8.07168 10.0295 8.07168C9.76975 8.07168 9.51726 7.98798 9.3112 7.83357C9.10513 7.67915 8.957 7.46265 8.88977 7.21764C8.82254 6.97263 8.83998 6.7128 8.93938 6.47846C9.03878 6.24411 9.21458 6.04834 9.43953 5.92151Z"
                  fill="white"
                />
                <Path
                  d="M35.9878 2.30457H28.9082V3.45684H35.9878C36.1441 3.45729 36.2939 3.51814 36.4044 3.62608C36.5149 3.73403 36.5772 3.88031 36.5777 4.03297V10.3705H1.17999V4.03297C1.18045 3.88031 1.24276 3.73403 1.3533 3.62608C1.46384 3.51814 1.61362 3.45729 1.76995 3.45684H8.25953V2.30457H1.76995C1.30066 2.30495 0.850714 2.48717 0.51888 2.81122C0.187047 3.13528 0.000451616 3.57469 6.10352e-05 4.03297L6.10352e-05 29.959C0.000451616 30.4173 0.187047 30.8567 0.51888 31.1808C0.850714 31.5048 1.30066 31.6871 1.76995 31.6874H35.9878C36.457 31.6871 36.907 31.5048 37.2388 31.1808C37.5707 30.8567 37.7572 30.4173 37.7576 29.959V4.03297C37.7572 3.57469 37.5707 3.13528 37.2388 2.81122C36.907 2.48717 36.457 2.30495 35.9878 2.30457ZM9.43946 27.0784C9.43949 27.2297 9.409 27.3795 9.34972 27.5194C9.29043 27.6592 9.20352 27.7862 9.09395 27.8932C8.98438 28.0002 8.85429 28.0851 8.71111 28.143C8.56794 28.2009 8.41449 28.2307 8.25953 28.2306H4.71976C4.5648 28.2307 4.41135 28.2009 4.26817 28.143C4.125 28.0851 3.99491 28.0002 3.88534 27.8932C3.77577 27.7862 3.68885 27.6592 3.62957 27.5194C3.57029 27.3795 3.53979 27.2297 3.53983 27.0784V23.6216C3.53979 23.4702 3.57029 23.3204 3.62957 23.1806C3.68885 23.0407 3.77577 22.9137 3.88534 22.8067C3.99491 22.6997 4.125 22.6148 4.26817 22.5569C4.41135 22.499 4.5648 22.4692 4.71976 22.4693H8.25953C8.41449 22.4692 8.56794 22.499 8.71111 22.5569C8.85429 22.6148 8.98438 22.6997 9.09395 22.8067C9.20352 22.9137 9.29043 23.0407 9.34972 23.1806C9.409 23.3204 9.43949 23.4702 9.43946 23.6216V27.0784ZM9.43946 18.4363C9.43949 18.5877 9.409 18.7375 9.34972 18.8773C9.29043 19.0172 9.20352 19.1442 9.09395 19.2512C8.98438 19.3582 8.85429 19.4431 8.71111 19.501C8.56794 19.5589 8.41449 19.5886 8.25953 19.5886H4.71976C4.5648 19.5886 4.41135 19.5589 4.26817 19.501C4.125 19.4431 3.99491 19.3582 3.88534 19.2512C3.77577 19.1442 3.68885 19.0172 3.62957 18.8773C3.57029 18.7375 3.53979 18.5877 3.53983 18.4363V14.9795C3.53979 14.8282 3.57029 14.6784 3.62957 14.5385C3.68885 14.3987 3.77577 14.2717 3.88534 14.1647C3.99491 14.0577 4.125 13.9728 4.26817 13.9149C4.41135 13.857 4.5648 13.8272 4.71976 13.8273H8.25953C8.41449 13.8272 8.56794 13.857 8.71111 13.9149C8.85429 13.9728 8.98438 14.0577 9.09395 14.1647C9.20352 14.2717 9.29043 14.3987 9.34972 14.5385C9.409 14.6784 9.43949 14.8282 9.43946 14.9795V18.4363ZM17.6989 27.0784C17.699 27.2297 17.6685 27.3795 17.6092 27.5194C17.5499 27.6592 17.463 27.7862 17.3534 27.8932C17.2438 28.0002 17.1138 28.0851 16.9706 28.143C16.8274 28.2009 16.674 28.2307 16.519 28.2306H12.9792C12.8243 28.2307 12.6708 28.2009 12.5276 28.143C12.3845 28.0851 12.2544 28.0002 12.1448 27.8932C12.0352 27.7862 11.9483 27.6592 11.889 27.5194C11.8298 27.3795 11.7993 27.2297 11.7993 27.0784V23.6216C11.7993 23.4702 11.8298 23.3204 11.889 23.1806C11.9483 23.0407 12.0352 22.9137 12.1448 22.8067C12.2544 22.6997 12.3845 22.6148 12.5276 22.5569C12.6708 22.499 12.8243 22.4692 12.9792 22.4693H16.519C16.674 22.4692 16.8274 22.499 16.9706 22.5569C17.1138 22.6148 17.2438 22.6997 17.3534 22.8067C17.463 22.9137 17.5499 23.0407 17.6092 23.1806C17.6685 23.3204 17.699 23.4702 17.6989 23.6216V27.0784ZM17.6989 18.4363C17.699 18.5877 17.6685 18.7375 17.6092 18.8773C17.5499 19.0172 17.463 19.1442 17.3534 19.2512C17.2438 19.3582 17.1138 19.4431 16.9706 19.501C16.8274 19.5589 16.674 19.5886 16.519 19.5886H12.9792C12.8243 19.5886 12.6708 19.5589 12.5276 19.501C12.3845 19.4431 12.2544 19.3582 12.1448 19.2512C12.0352 19.1442 11.9483 19.0172 11.889 18.8773C11.8298 18.7375 11.7993 18.5877 11.7993 18.4363V14.9795C11.7993 14.8282 11.8298 14.6784 11.889 14.5385C11.9483 14.3987 12.0352 14.2717 12.1448 14.1647C12.2544 14.0577 12.3845 13.9728 12.5276 13.9149C12.6708 13.857 12.8243 13.8272 12.9792 13.8273H16.519C16.674 13.8272 16.8274 13.857 16.9706 13.9149C17.1138 13.9728 17.2438 14.0577 17.3534 14.1647C17.463 14.2717 17.5499 14.3987 17.6092 14.5385C17.6685 14.6784 17.699 14.8282 17.6989 14.9795V18.4363ZM25.9584 27.0784C25.9584 27.2297 25.9279 27.3795 25.8687 27.5194C25.8094 27.6592 25.7225 27.7862 25.6129 27.8932C25.5033 28.0002 25.3732 28.0851 25.2301 28.143C25.0869 28.2009 24.9334 28.2307 24.7785 28.2306H21.2387C21.0837 28.2307 20.9303 28.2009 20.7871 28.143C20.6439 28.0851 20.5139 28.0002 20.4043 27.8932C20.2947 27.7862 20.2078 27.6592 20.1485 27.5194C20.0892 27.3795 20.0587 27.2297 20.0588 27.0784V23.6216C20.0587 23.4702 20.0892 23.3204 20.1485 23.1806C20.2078 23.0407 20.2947 22.9137 20.4043 22.8067C20.5139 22.6997 20.6439 22.6148 20.7871 22.5569C20.9303 22.499 21.0837 22.4692 21.2387 22.4693H24.7785C24.9334 22.4692 25.0869 22.499 25.2301 22.5569C25.3732 22.6148 25.5033 22.6997 25.6129 22.8067C25.7225 22.9137 25.8094 23.0407 25.8687 23.1806C25.9279 23.3204 25.9584 23.4702 25.9584 23.6216V27.0784ZM25.9584 18.4363C25.9584 18.5877 25.9279 18.7375 25.8687 18.8773C25.8094 19.0172 25.7225 19.1442 25.6129 19.2512C25.5033 19.3582 25.3732 19.4431 25.2301 19.501C25.0869 19.5589 24.9334 19.5886 24.7785 19.5886H21.2387C21.0837 19.5886 20.9303 19.5589 20.7871 19.501C20.6439 19.4431 20.5139 19.3582 20.4043 19.2512C20.2947 19.1442 20.2078 19.0172 20.1485 18.8773C20.0892 18.7375 20.0587 18.5877 20.0588 18.4363V14.9795C20.0587 14.8282 20.0892 14.6784 20.1485 14.5385C20.2078 14.3987 20.2947 14.2717 20.4043 14.1647C20.5139 14.0577 20.6439 13.9728 20.7871 13.9149C20.9303 13.857 21.0837 13.8272 21.2387 13.8273H24.7785C24.9334 13.8272 25.0869 13.857 25.2301 13.9149C25.3732 13.9728 25.5033 14.0577 25.6129 14.1647C25.7225 14.2717 25.8094 14.3987 25.8687 14.5385C25.9279 14.6784 25.9584 14.8282 25.9584 14.9795V18.4363ZM34.2179 18.4363C34.2179 18.5877 34.1874 18.7375 34.1281 18.8773C34.0688 19.0172 33.9819 19.1442 33.8724 19.2512C33.7628 19.3582 33.6327 19.4431 33.4895 19.501C33.3464 19.5589 33.1929 19.5886 33.0379 19.5886H29.4982C29.3432 19.5886 29.1898 19.5589 29.0466 19.501C28.9034 19.4431 28.7733 19.3582 28.6637 19.2512C28.5542 19.1442 28.4673 19.0172 28.408 18.8773C28.3487 18.7375 28.3182 18.5877 28.3182 18.4363V14.9795C28.3182 14.8282 28.3487 14.6784 28.408 14.5385C28.4673 14.3987 28.5542 14.2717 28.6637 14.1647C28.7733 14.0577 28.9034 13.9728 29.0466 13.9149C29.1898 13.857 29.3432 13.8272 29.4982 13.8273H33.0379C33.1929 13.8272 33.3464 13.857 33.4895 13.9149C33.6327 13.9728 33.7628 14.0577 33.8724 14.1647C33.9819 14.2717 34.0688 14.3987 34.1281 14.5385C34.1874 14.6784 34.2179 14.8282 34.2179 14.9795V18.4363Z"
                  fill="white"
                />
              </Svg>
            }
            arrowSvg={
              <Svg width={32} height={32} viewBox="0 0 33 40" fill="none">
                <Path
                  d={'M16.5 38V2M16.5 38L2 23.6M16.5 38L31 23.6'}
                  stroke={
                    salesData.currentWeek > salesData.lastWeek
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={3}
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </Svg>
            }
            svgIconClassName={'bg-ufoGreen'}
            svgIconBottom={
              <Svg
                width="100%"
                height={75}
                viewBox="0 0 390 95"
                fill="none"
                preserveAspectRatio="none">
                <Path
                  d="M94 55C80 35 20 45 -5 60V104H392V55C365 60 345 63 320 65C290 67 275 60 255 50C240 42 225 40 215 45C200 50 185 70 165 85C145 100 130 90 120 80C110 70 105 65 94 55Z"
                  fill={
                    salesData.currentWeek > salesData.lastWeek
                      ? '#00e37d0f'
                      : '#fe5e5e0f'
                  }
                  stroke={
                    salesData.currentWeek > salesData.lastWeek
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={2}
                />
              </Svg>
            }
          />
          <InfoCardDashboard
            mainheading={'Current Month vs Last Month'}
            todayLabel="Current Month"
            todayValue={salesData.currentMonth}
            yesterdayLabel="Last Month"
            yesterdayValue={salesData.lastMonth}
            imgSrc={require('../../assets/images/bg-lines.png')}
            svgIcon={
              <Svg width={32} height={32} viewBox="0 0 37 39" fill="none">
                <Path
                  d="M27.1384 9.21816C27.7126 9.21848 28.2672 9.01421 28.6982 8.64365C29.1292 8.27309 29.4069 7.76171 29.4793 7.20542C29.5517 6.64914 29.4138 6.08617 29.0914 5.62211C28.7691 5.15805 28.2844 4.82479 27.7284 4.68484V0.576135C27.7284 0.423334 27.6662 0.276792 27.5556 0.168746C27.4449 0.0606999 27.2949 0 27.1384 0C26.9819 0 26.8319 0.0606999 26.7212 0.168746C26.6106 0.276792 26.5484 0.423334 26.5484 0.576135V4.68484C25.9924 4.82479 25.5077 5.15805 25.1854 5.62211C24.863 6.08617 24.7251 6.64914 24.7975 7.20542C24.8699 7.76171 25.1476 8.27309 25.5786 8.64365C26.0096 9.01421 26.5642 9.21848 27.1384 9.21816ZM26.5484 5.92151V6.33748C26.5484 6.49028 26.6106 6.63683 26.7212 6.74487C26.8319 6.85292 26.9819 6.91362 27.1384 6.91362C27.2949 6.91362 27.4449 6.85292 27.5556 6.74487C27.6662 6.63683 27.7284 6.49028 27.7284 6.33748V5.92151C27.9533 6.04834 28.1291 6.24411 28.2285 6.47846C28.3279 6.7128 28.3453 6.97263 28.2781 7.21764C28.2109 7.46265 28.0627 7.67915 27.8567 7.83357C27.6506 7.98798 27.3981 8.07168 27.1384 8.07168C26.8786 8.07168 26.6262 7.98798 26.4201 7.83357C26.214 7.67915 26.0659 7.46265 25.9987 7.21764C25.9314 6.97263 25.9489 6.7128 26.0483 6.47846C26.1477 6.24411 26.3235 6.04834 26.5484 5.92151ZM11.7994 2.30454H25.3685V3.45681H11.7994V2.30454ZM10.0295 9.21816C10.6037 9.21848 11.1583 9.01421 11.5893 8.64365C12.0203 8.27309 12.298 7.76171 12.3704 7.20542C12.4428 6.64914 12.3049 6.08617 11.9825 5.62211C11.6602 5.15805 11.1755 4.82479 10.6195 4.68484V0.576135C10.6195 0.423334 10.5573 0.276792 10.4467 0.168746C10.336 0.0606999 10.186 0 10.0295 0C9.87302 0 9.72296 0.0606999 9.61232 0.168746C9.50168 0.276792 9.43953 0.423334 9.43953 0.576135V4.68484C8.88348 4.82479 8.39882 5.15805 8.07645 5.62211C7.75409 6.08617 7.61617 6.64914 7.68856 7.20542C7.76096 7.76171 8.03869 8.27309 8.46967 8.64365C8.90065 9.01421 9.45527 9.21848 10.0295 9.21816ZM9.43953 5.92151V6.33748C9.43953 6.49028 9.50168 6.63683 9.61232 6.74487C9.72296 6.85292 9.87302 6.91362 10.0295 6.91362C10.186 6.91362 10.336 6.85292 10.4467 6.74487C10.5573 6.63683 10.6195 6.49028 10.6195 6.33748V5.92151C10.8444 6.04834 11.0202 6.24411 11.1196 6.47846C11.219 6.7128 11.2364 6.97263 11.1692 7.21764C11.102 7.46265 10.9538 7.67915 10.7478 7.83357C10.5417 7.98798 10.2892 8.07168 10.0295 8.07168C9.76975 8.07168 9.51726 7.98798 9.3112 7.83357C9.10513 7.67915 8.957 7.46265 8.88977 7.21764C8.82254 6.97263 8.83998 6.7128 8.93938 6.47846C9.03878 6.24411 9.21458 6.04834 9.43953 5.92151Z"
                  fill="white"
                />
                <Path
                  d="M35.9878 2.30457H28.9082V3.45684H35.9878C36.1441 3.45729 36.2939 3.51814 36.4044 3.62608C36.5149 3.73403 36.5772 3.88031 36.5777 4.03297V10.3705H1.17999V4.03297C1.18045 3.88031 1.24276 3.73403 1.3533 3.62608C1.46384 3.51814 1.61362 3.45729 1.76995 3.45684H8.25953V2.30457H1.76995C1.30066 2.30495 0.850714 2.48717 0.51888 2.81122C0.187047 3.13528 0.000451616 3.57469 6.10352e-05 4.03297L6.10352e-05 29.959C0.000451616 30.4173 0.187047 30.8567 0.51888 31.1808C0.850714 31.5048 1.30066 31.6871 1.76995 31.6874H35.9878C36.457 31.6871 36.907 31.5048 37.2388 31.1808C37.5707 30.8567 37.7572 30.4173 37.7576 29.959V4.03297C37.7572 3.57469 37.5707 3.13528 37.2388 2.81122C36.907 2.48717 36.457 2.30495 35.9878 2.30457ZM9.43946 27.0784C9.43949 27.2297 9.409 27.3795 9.34972 27.5194C9.29043 27.6592 9.20352 27.7862 9.09395 27.8932C8.98438 28.0002 8.85429 28.0851 8.71111 28.143C8.56794 28.2009 8.41449 28.2307 8.25953 28.2306H4.71976C4.5648 28.2307 4.41135 28.2009 4.26817 28.143C4.125 28.0851 3.99491 28.0002 3.88534 27.8932C3.77577 27.7862 3.68885 27.6592 3.62957 27.5194C3.57029 27.3795 3.53979 27.2297 3.53983 27.0784V23.6216C3.53979 23.4702 3.57029 23.3204 3.62957 23.1806C3.68885 23.0407 3.77577 22.9137 3.88534 22.8067C3.99491 22.6997 4.125 22.6148 4.26817 22.5569C4.41135 22.499 4.5648 22.4692 4.71976 22.4693H8.25953C8.41449 22.4692 8.56794 22.499 8.71111 22.5569C8.85429 22.6148 8.98438 22.6997 9.09395 22.8067C9.20352 22.9137 9.29043 23.0407 9.34972 23.1806C9.409 23.3204 9.43949 23.4702 9.43946 23.6216V27.0784ZM9.43946 18.4363C9.43949 18.5877 9.409 18.7375 9.34972 18.8773C9.29043 19.0172 9.20352 19.1442 9.09395 19.2512C8.98438 19.3582 8.85429 19.4431 8.71111 19.501C8.56794 19.5589 8.41449 19.5886 8.25953 19.5886H4.71976C4.5648 19.5886 4.41135 19.5589 4.26817 19.501C4.125 19.4431 3.99491 19.3582 3.88534 19.2512C3.77577 19.1442 3.68885 19.0172 3.62957 18.8773C3.57029 18.7375 3.53979 18.5877 3.53983 18.4363V14.9795C3.53979 14.8282 3.57029 14.6784 3.62957 14.5385C3.68885 14.3987 3.77577 14.2717 3.88534 14.1647C3.99491 14.0577 4.125 13.9728 4.26817 13.9149C4.41135 13.857 4.5648 13.8272 4.71976 13.8273H8.25953C8.41449 13.8272 8.56794 13.857 8.71111 13.9149C8.85429 13.9728 8.98438 14.0577 9.09395 14.1647C9.20352 14.2717 9.29043 14.3987 9.34972 14.5385C9.409 14.6784 9.43949 14.8282 9.43946 14.9795V18.4363ZM17.6989 27.0784C17.699 27.2297 17.6685 27.3795 17.6092 27.5194C17.5499 27.6592 17.463 27.7862 17.3534 27.8932C17.2438 28.0002 17.1138 28.0851 16.9706 28.143C16.8274 28.2009 16.674 28.2307 16.519 28.2306H12.9792C12.8243 28.2307 12.6708 28.2009 12.5276 28.143C12.3845 28.0851 12.2544 28.0002 12.1448 27.8932C12.0352 27.7862 11.9483 27.6592 11.889 27.5194C11.8298 27.3795 11.7993 27.2297 11.7993 27.0784V23.6216C11.7993 23.4702 11.8298 23.3204 11.889 23.1806C11.9483 23.0407 12.0352 22.9137 12.1448 22.8067C12.2544 22.6997 12.3845 22.6148 12.5276 22.5569C12.6708 22.499 12.8243 22.4692 12.9792 22.4693H16.519C16.674 22.4692 16.8274 22.499 16.9706 22.5569C17.1138 22.6148 17.2438 22.6997 17.3534 22.8067C17.463 22.9137 17.5499 23.0407 17.6092 23.1806C17.6685 23.3204 17.699 23.4702 17.6989 23.6216V27.0784ZM17.6989 18.4363C17.699 18.5877 17.6685 18.7375 17.6092 18.8773C17.5499 19.0172 17.463 19.1442 17.3534 19.2512C17.2438 19.3582 17.1138 19.4431 16.9706 19.501C16.8274 19.5589 16.674 19.5886 16.519 19.5886H12.9792C12.8243 19.5886 12.6708 19.5589 12.5276 19.501C12.3845 19.4431 12.2544 19.3582 12.1448 19.2512C12.0352 19.1442 11.9483 19.0172 11.889 18.8773C11.8298 18.7375 11.7993 18.5877 11.7993 18.4363V14.9795C11.7993 14.8282 11.8298 14.6784 11.889 14.5385C11.9483 14.3987 12.0352 14.2717 12.1448 14.1647C12.2544 14.0577 12.3845 13.9728 12.5276 13.9149C12.6708 13.857 12.8243 13.8272 12.9792 13.8273H16.519C16.674 13.8272 16.8274 13.857 16.9706 13.9149C17.1138 13.9728 17.2438 14.0577 17.3534 14.1647C17.463 14.2717 17.5499 14.3987 17.6092 14.5385C17.6685 14.6784 17.699 14.8282 17.6989 14.9795V18.4363ZM25.9584 27.0784C25.9584 27.2297 25.9279 27.3795 25.8687 27.5194C25.8094 27.6592 25.7225 27.7862 25.6129 27.8932C25.5033 28.0002 25.3732 28.0851 25.2301 28.143C25.0869 28.2009 24.9334 28.2307 24.7785 28.2306H21.2387C21.0837 28.2307 20.9303 28.2009 20.7871 28.143C20.6439 28.0851 20.5139 28.0002 20.4043 27.8932C20.2947 27.7862 20.2078 27.6592 20.1485 27.5194C20.0892 27.3795 20.0587 27.2297 20.0588 27.0784V23.6216C20.0587 23.4702 20.0892 23.3204 20.1485 23.1806C20.2078 23.0407 20.2947 22.9137 20.4043 22.8067C20.5139 22.6997 20.6439 22.6148 20.7871 22.5569C20.9303 22.499 21.0837 22.4692 21.2387 22.4693H24.7785C24.9334 22.4692 25.0869 22.499 25.2301 22.5569C25.3732 22.6148 25.5033 22.6997 25.6129 22.8067C25.7225 22.9137 25.8094 23.0407 25.8687 23.1806C25.9279 23.3204 25.9584 23.4702 25.9584 23.6216V27.0784ZM25.9584 18.4363C25.9584 18.5877 25.9279 18.7375 25.8687 18.8773C25.8094 19.0172 25.7225 19.1442 25.6129 19.2512C25.5033 19.3582 25.3732 19.4431 25.2301 19.501C25.0869 19.5589 24.9334 19.5886 24.7785 19.5886H21.2387C21.0837 19.5886 20.9303 19.5589 20.7871 19.501C20.6439 19.4431 20.5139 19.3582 20.4043 19.2512C20.2947 19.1442 20.2078 19.0172 20.1485 18.8773C20.0892 18.7375 20.0587 18.5877 20.0588 18.4363V14.9795C20.0587 14.8282 20.0892 14.6784 20.1485 14.5385C20.2078 14.3987 20.2947 14.2717 20.4043 14.1647C20.5139 14.0577 20.6439 13.9728 20.7871 13.9149C20.9303 13.857 21.0837 13.8272 21.2387 13.8273H24.7785C24.9334 13.8272 25.0869 13.857 25.2301 13.9149C25.3732 13.9728 25.5033 14.0577 25.6129 14.1647C25.7225 14.2717 25.8094 14.3987 25.8687 14.5385C25.9279 14.6784 25.9584 14.8282 25.9584 14.9795V18.4363ZM34.2179 18.4363C34.2179 18.5877 34.1874 18.7375 34.1281 18.8773C34.0688 19.0172 33.9819 19.1442 33.8724 19.2512C33.7628 19.3582 33.6327 19.4431 33.4895 19.501C33.3464 19.5589 33.1929 19.5886 33.0379 19.5886H29.4982C29.3432 19.5886 29.1898 19.5589 29.0466 19.501C28.9034 19.4431 28.7733 19.3582 28.6637 19.2512C28.5542 19.1442 28.4673 19.0172 28.408 18.8773C28.3487 18.7375 28.3182 18.5877 28.3182 18.4363V14.9795C28.3182 14.8282 28.3487 14.6784 28.408 14.5385C28.4673 14.3987 28.5542 14.2717 28.6637 14.1647C28.7733 14.0577 28.9034 13.9728 29.0466 13.9149C29.1898 13.857 29.3432 13.8272 29.4982 13.8273H33.0379C33.1929 13.8272 33.3464 13.857 33.4895 13.9149C33.6327 13.9728 33.7628 14.0577 33.8724 14.1647C33.9819 14.2717 34.0688 14.3987 34.1281 14.5385C34.1874 14.6784 34.2179 14.8282 34.2179 14.9795V18.4363Z"
                  fill="white"
                />
              </Svg>
            }
            arrowSvg={
              <Svg width={32} height={32} viewBox="0 0 33 40" fill="none">
                <Path
                  d={'M16.5 38V2M16.5 38L2 23.6M16.5 38L31 23.6'}
                  stroke={
                    salesData.currentMonth > salesData.lastMonth
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={3}
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </Svg>
            }
            svgIconClassName={'bg-ufoGreen'}
            svgIconBottom={
              <Svg
                width="100%"
                height={75}
                viewBox="0 0 390 95"
                fill="none"
                preserveAspectRatio="none">
                <Path
                  d="M94 55C80 35 20 45 -5 60V104H392V55C365 60 345 63 320 65C290 67 275 60 255 50C240 42 225 40 215 45C200 50 185 70 165 85C145 100 130 90 120 80C110 70 105 65 94 55Z"
                  fill={
                    salesData.currentMonth > salesData.lastMonth
                      ? '#00e37d0f'
                      : '#fe5e5e0f'
                  }
                  stroke={
                    salesData.currentMonth > salesData.lastMonth
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={2}
                />
              </Svg>
            }
          />
        </View>
        <View style={styles.cardContainer}>
          <InfoCardDashboard
            mainheading={'Current Year vs Last Year'}
            todayLabel="Current Year"
            todayValue={salesData.currentYear}
            yesterdayLabel="Last Year"
            yesterdayValue={salesData.lastYear}
            imgSrc={require('../../assets/images/bg-lines.png')}
            svgIcon={
              <Svg width={32} height={32} viewBox="0 0 37 39" fill="none">
                <Path
                  d="M28.0972 38.737H8.26389C3.63611 38.737 0 35.1861 0 30.6668V12.9123C0 8.39301 3.63611 4.84212 8.26389 4.84212V1.61404C8.26389 0.645616 8.925 0 9.91667 0C10.9083 0 11.5694 0.645616 11.5694 1.61404V4.84212H26.4444V1.61404C26.4444 0.645616 27.1056 0 28.0972 0C29.0889 0 29.75 0.645616 29.75 1.61404V5.00353C33.5514 5.81055 36.3611 9.03863 36.3611 12.9123V30.6668C36.3611 35.1861 32.725 38.737 28.0972 38.737ZM3.30556 17.7544V30.6668C3.30556 33.4106 5.45417 35.5089 8.26389 35.5089H28.0972C30.9069 35.5089 33.0556 33.4106 33.0556 30.6668V17.7544H3.30556ZM3.30556 14.5264H33.0556V12.9123C33.0556 10.1685 30.9069 8.0702 28.0972 8.0702H8.26389C5.45417 8.0702 3.30556 10.1685 3.30556 12.9123V14.5264ZM8.26389 24.2106C7.27222 24.2106 6.61111 23.565 6.61111 22.5966C6.61111 21.6281 7.27222 20.9825 8.26389 20.9825C9.25556 20.9825 9.91667 21.6281 9.91667 22.5966C9.91667 23.565 9.25556 24.2106 8.26389 24.2106Z"
                  fill="white"
                />
              </Svg>
            }
            arrowSvg={
              <Svg width={32} height={32} viewBox="0 0 33 40" fill="none">
                <Path
                  d={'M16.5 38V2M16.5 38L2 23.6M16.5 38L31 23.6'}
                  stroke={
                    salesData.currentYear > salesData.lastYear
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={3}
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </Svg>
            }
            svgIconClassName={'bg-ufoGreen'}
            svgIconBottom={
              <Svg
                width="100%"
                height={75}
                viewBox="0 0 390 95"
                fill="none"
                preserveAspectRatio="none">
                <Path
                  d="M94 55C80 35 20 45 -5 60V104H392V55C365 60 345 63 320 65C290 67 275 60 255 50C240 42 225 40 215 45C200 50 185 70 165 85C145 100 130 90 120 80C110 70 105 65 94 55Z"
                  fill={
                    salesData.currentYear > salesData.lastYear
                      ? '#00e37d0f'
                      : '#fe5e5e0f'
                  }
                  stroke={
                    salesData.currentYear > salesData.lastYear
                      ? '#00e37d'
                      : '#fe5e5e'
                  }
                  strokeWidth={2}
                />
              </Svg>
            }
          />

          <View style={{width: '66%'}}>
            <View style={{flex: 1, flexDirection: 'row', gap: 8}}>
              <SalesCard
                title="Total Sales Amount"
                value={salesData.currentMonth}
                period="Period: This Month"
              />

              <SalesCard
                title="Sales Growth Rate"
                value={salesData.salesGrowth + '%'}
                period="Period: Last 3 Months"
              />
            </View>
            <View style={{flex: 1, flexDirection: 'row', gap: 8}}>
              <SalesCard
                title="Average Transaction Value"
                value={salesData.currentAvgSales}
                period="Previous Month: 0"
              />

              <SalesCard
                title="Sales Overview"
                value={salesData.currentWeek}
                period="Period: Last 7 Days"
              />
            </View>
          </View>
        </View>

        <View style={styles.cardContainer}>
          <SalesCard title="Top-Selling Products" value={0} period="" />
          <SalesCard title="Sales by Category" value={0} period="" />
        </View>

        <View style={styles.cardContainer}>
          <StatusCard
            title="Customer Insights"
            color="rgb(237, 105, 100)"
            items={[
              {period: 'Total Customers', value: customerData.totalCustomer},
              {period: 'New Customers', value: customerData.newCustomer},
              {
                period: 'Repeat Customers',
                value: customerData.customerRatio.repeatedCustomerRatio + '%',
              },
            ]}
            backgroundColor="rgb(253, 243, 242)"
          />

          <StatusCard
            title="Inventory Status"
            color="#00e37d"
            items={[
              {period: 'Low Stock Items', value: inventoryData.lowItems},
              {period: 'Out of Stock', value: inventoryData.outOfStockItems},
              {
                period: 'Available Stock',
                value: inventoryData.availableStockItems,
              },
            ]}
            backgroundColor="rgb(245, 255, 250)"
          />
        </View>

        <View style={styles.cardContainer}>
          <SummaryCard
            title="Weekly Sales Summary"
            color="#00e37d"
            items={[
              {period: 'This Week', value: salesData.currentWeek},
              {period: 'Growth', value: salesData.salesGrowth + '%'},
              {period: 'Last Week', value: salesData.lastWeek},
            ]}
            backgroundColor="white"
          />
          <SummaryCard
            title="Monthly Sales Overview"
            color="#00e37d"
            items={[
              {period: 'This Month', value: salesData.currentMonth},
              {period: 'YoY Growth', value: salesData.salesGrowth + '%'},
              {period: 'Last Month', value: salesData.lastMonth},
            ]}
            backgroundColor="white"
          />
        </View>

        <View style={styles.cardContainer}>
          <SummaryCard
            title="Yearly Sales Overview"
            color="#00e37d"
            items={[
              {period: 'This Year', value: salesData.currentYear},
              {period: 'YoY Growth', value: salesData.salesGrowth + '%'},
              {period: 'Last Year', value: salesData.lastYear},
            ]}
            backgroundColor="white"
          />
          <SummaryCard
            title="Total Sales Invoices "
            color="#00e37d"
            items={[
              {period: 'Total Invoices', value: salesData.totalInvoices},
              {period: 'Pending', value: salesData.totalPendingInvoices},
              {period: 'Paid', value: salesData.totalPaidInvoices},
            ]}
            backgroundColor="white"
          />
        </View>

        <View style={styles.cardContainer1}>
          <SummaryCard
            title="Refunds and Returns"
            color="#00e37d"
            items={[
              {period: 'Total Refunds', value: salesData.refundAmount},
              {
                period: 'Return Rate',
                value:
                  (
                    (salesData.refundCount / salesData.totalPaidInvoices) *
                    100
                  ).toFixed(2) + '%',
              },
              {period: 'Number of Returns', value: salesData.refundCount},
            ]}
            backgroundColor="white"
            inLastRow={true}
          />
          <View
            style={{
              flex: 1,
              height: 160,
            }}>
            <SummaryCard
              title="Sales by Store Location"
              color="#00e37d"
              items={[
                {
                  period: outletData[0].outletName,
                  value: outletData[0].totalRevenue,
                },
              ]}
              backgroundColor="white"
              inLastRow={true}
            />
          </View>
          <View
            style={{
              flex: 1,
              height: 160,
            }}>
            <SummaryCard
              title="Sales By Product Category"
              color="#00e37d"
              items={[
                {
                  period: productData?.categories[0]?.categoryName,
                  value: productData?.categories[0]?.totalRevenue,
                },
              ]}
              backgroundColor="white"
              inLastRow={true}
            />
          </View>
        </View>
      </ScrollView>
    </>
  );
}

const styles = StyleSheet.create({
  scrollContainer: {
    flexGrow: 1,
    // paddingHorizontal: 16,
  },
  cardContainer: {
    display: 'flex',
    flexDirection: 'row',
    justifyContent: 'space-between',
    gap: 8,
    marginHorizontal: 8,
  },
  cardContainer1: {
    display: 'flex',
    flexDirection: 'row',
    justifyContent: 'space-between',
    gap: 8,
    marginHorizontal: 8,
    marginBottom: 8,
  },
});
